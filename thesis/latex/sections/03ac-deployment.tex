\subsection{Deployment of Indico Instance}

As the development of the \glspl{poc} should be tested in a running Indico instance by \gls{cern} users, a deployment outside of the local development machine is necessary. A few prerequisites are needed to set up a staging environment. First is a valid \gls{cern} account and a running \gls{ssh} tunnel to \gls{cern}'s network. It is important to note that the environment is also running behind \gls{cern}'s firewall and can only access the two mentioned prerequisites.

Indico, with the two \glspl{poc} integrated, can be deployed using a hosted solution. \gls{cern} has excellent documentation to an OpenStack \gls{vm} \cite{openstack} workflow, which allows a straightforward deployment of Indico. OpenStack is a set of open-source cloud software components providing production-level infrastructure. \gls{cern} has a list of OpenStack images ready to be used for staging or production environments. A CentOS \cite{centos} distribution was chosen and the official Indico guideline to install Indico on Linux. The latest, not yet released, version of Indico uses Python 3 and brings a few caveats, but was nevertheless used for deployment. The Indico chief developer recommended this to test Indico and to use and have access to the latest features. The Indico documentation's differences that only support previous Indico versions were not complex enough to be mentioned here, as they mostly meant installing different \gls{os} packages.

Indico can be easily installed by building a Python wheel locally, which bundles all dependencies into a single file and sends it to the OpenStack \gls{vm} where it is installed with a single \texttt{pip install} command. The Indico documentation requires a few system calls to be created, which must be restarted every time a new Indico version is installed.

Two additional parts are necessary to make Indico and the \gls{poc} modules work properly together. A \gls{tls} certificate is necessary for the authentication flow with real data pods and also always a good practice to have enabled. Let's Encrypt \cite{letsencrypt} is a nonprofit Certificate Authority providing free \gls{tls} certificates and therefore a decent choice when in need for a certificate. Let's Encrypt certificates cannot be used in \gls{cern}'s network as their ports are blocked by \gls{cern}'s firewall. But again \gls{cern} has a setup solution for this providing their own self-signed certificates. These are pre-installed on \gls{cern}'s work computers and thus trusted automatically when used in the staging instance.

The second improvement to the installation was to enable \gls{sso} allowing authentication through \gls{cern}'s authentication service. This means all users with a valid \gls{cern} account can authenticate with the freshly installed Indico instance and therefore provide an authenticated Indico session when needed. This was as easy as adding the domain of the Indico staging instance, installing \gls{cern}'s Python Flask authentication library called \textit{flask-multipass} \cite{flask-multipass} and appending some additional configuration to the Indico configuration file.

TODO: deployment diagram?